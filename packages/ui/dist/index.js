"use strict";var Z=Object.create;var M=Object.defineProperty;var ee=Object.getOwnPropertyDescriptor;var te=Object.getOwnPropertyNames;var ae=Object.getPrototypeOf,se=Object.prototype.hasOwnProperty;var re=(a,s)=>{for(var o in s)M(a,o,{get:s[o],enumerable:!0})},z=(a,s,o,i)=>{if(s&&typeof s=="object"||typeof s=="function")for(let l of te(s))!se.call(a,l)&&l!==o&&M(a,l,{get:()=>s[l],enumerable:!(i=ee(s,l))||i.enumerable});return a};var oe=(a,s,o)=>(o=a!=null?Z(ae(a)):{},z(s||!a||!a.__esModule?M(o,"default",{value:a,enumerable:!0}):o,a)),ne=a=>z(M({},"__esModule",{value:!0}),a);var ge={};re(ge,{Input:()=>D,Table:()=>de});module.exports=ne(ge);var c=oe(require("react")),B=require("react-dom"),r=require("lucide-react");var O=require("lucide-react"),u=require("react/jsx-runtime"),D=({icon:a,type:s="text",color:o="#2563eb",value:i,onChange:l,placeholder:m,onClear:d,darkMode:n})=>(0,u.jsxs)("div",{className:`relative group w-full ${n?"dark":""}`,style:{"--highlight":o},children:[a&&(0,u.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none transition-colors duration-200 group-focus-within:text-[var(--highlight)] text-slate-400",children:(0,u.jsx)(a,{className:"w-4 h-4"})}),(0,u.jsx)("input",{type:s,value:i,onChange:l,placeholder:m,className:`
          block w-full py-2.5 text-sm bg-white dark:bg-slate-900 
          border border-slate-200 dark:border-slate-800 rounded-xl 
          outline-none transition-all dark:text-white
          focus:ring-2 focus:ring-[var(--highlight)]/20 focus:border-[var(--highlight)]
          ${a?"pl-10":"pl-4"}
          ${d?"pr-10":"pr-4"}
        `}),i&&d&&(0,u.jsx)("button",{onClick:d,className:"absolute inset-y-0 right-0 pr-3 flex items-center text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:(0,u.jsx)(O.X,{className:"w-4 h-4"})})]});var e=require("react/jsx-runtime"),le=c.default.memo(({row:a,columns:s,color:o,selectable:i,isSelected:l,onSelect:m})=>{let d={left:"text-left",center:"text-center",right:"text-right"};return(0,e.jsxs)("tr",{className:"group transition-colors duration-150 hover:bg-[var(--highlight)]/5",children:[i&&(0,e.jsx)("td",{className:"px-6 py-4 border-b border-transparent",children:(0,e.jsx)("input",{type:"checkbox",checked:l,onChange:()=>m(a.id),style:{"--accent":o},className:"w-4 h-4 rounded border-slate-300 text-[var(--accent)] focus:ring-[var(--accent)] cursor-pointer"})}),s.filter(n=>!n.hidden).map(n=>(0,e.jsx)("td",{className:`
            whitespace-nowrap px-6 py-4 
            text-slate-600 dark:text-slate-300
            transition-colors group-hover:text-slate-900 dark:group-hover:text-white
            ${d[n.align||"left"]}
          `,children:n.actions?(0,e.jsx)(ce,{actions:n.actions,row:a,highlightColor:o}):n.format?n.format(a[n.accessor],a,o):String(a[n.accessor])},String(n.accessor)))]})}),ie=({isOpen:a,onClose:s,anchorRect:o,actions:i,row:l,highlightColor:m,darkMode:d})=>{if(!a||!o)return null;let n={position:"fixed",top:`${o.bottom+8}px`,left:`${o.right-192}px`,zIndex:9999};return(0,B.createPortal)((0,e.jsxs)("div",{className:d?"dark":"",style:{"--highlight":m},children:[(0,e.jsx)("div",{className:"fixed inset-0 z-[9998]",onClick:s}),(0,e.jsx)("div",{style:n,className:"w-48 overflow-hidden rounded-xl border border-slate-200 bg-white shadow-2xl ring-1 ring-black ring-opacity-5 dark:border-slate-700 dark:bg-slate-800 animate-in fade-in zoom-in duration-150",children:(0,e.jsx)("div",{className:"py-1",children:i.map((g,S)=>{let x=g.icon;return(0,e.jsxs)("button",{onClick:()=>{g.onClick(l),s()},className:`flex w-full items-center gap-3 px-4 py-2.5 text-sm transition-colors hover:bg-slate-50 dark:hover:bg-slate-700/50 ${g.color||"text-slate-700 dark:text-slate-200"}`,children:[x&&(0,e.jsx)(x,{className:"w-4 h-4 opacity-70"}),(0,e.jsx)("span",{className:"font-medium",children:g.label})]},S)})})})]}),document.body)},ce=({actions:a,row:s,highlightColor:o,darkMode:i})=>{let[l,m]=(0,c.useState)(!1),[d,n]=(0,c.useState)(null),g=(0,c.useRef)(null);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("button",{ref:g,onClick:x=>{x.stopPropagation(),g.current&&n(g.current.getBoundingClientRect()),m(!l)},className:`p-2 rounded-full transition-all duration-200 ${l?"bg-[var(--highlight)]/10 text-[var(--highlight)]":"hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-400"}`,children:(0,e.jsx)(r.MoreHorizontal,{className:"w-5 h-5"})}),(0,e.jsx)(ie,{isOpen:l,onClose:()=>m(!1),anchorRect:d,actions:a,row:s,highlightColor:o,darkMode:!!i})]})},de=({data:a=[],columns:s=[],pagination:o=!0,selectable:i=!1,customArrayPagination:l=[5,10,25,50,100],defaultPageSize:m=10,filter:d=!1,filterPlaceholder:n="Buscar registros...",color:g="#2563eb",add:S=!1,textAdd:x="Agregar",actionAdd:F=()=>{},excelExport:U=!1,onDeleteRows:H=()=>{},emptyState:L,darkMode:j=!1})=>{let[y,$]=(0,c.useState)(1),[T,V]=(0,c.useState)(m),[R,E]=(0,c.useState)(""),[p,X]=(0,c.useState)({key:null,direction:"asc"}),[f,A]=(0,c.useState)(new Set),_=t=>{let h="asc";p.key===t&&p.direction==="asc"&&(h="desc"),X({key:t,direction:h})},N=(0,c.useMemo)(()=>{let t=[...a];if(d&&R){let h=s.filter(b=>b.filter).map(b=>b.accessor);t=t.filter(b=>h.some(w=>String(b[w]).toLowerCase().includes(R.toLowerCase())))}return p.key&&t.sort((h,b)=>{let w=h[p.key],P=b[p.key];return w<P?p.direction==="asc"?-1:1:w>P?p.direction==="asc"?1:-1:0}),t},[a,R,d,s,p]),I=Math.ceil(N.length/T)||1,v=o?N.slice((y-1)*T,y*T):N,q=()=>{f.size===v.length?A(new Set):A(new Set(v.map(t=>t.id)))},G=t=>{let h=new Set(f);h.has(t)?h.delete(t):h.add(t),A(h)},J=()=>{let t=s.filter(k=>!k.hidden&&!k.actions),h=t.map(k=>`"${k.header}"`).join(","),b=N.map(k=>t.map(W=>{let Y=k[W.accessor];return`"${String(Y).replace(/"/g,'""')}"`}).join(",")).join(`
`),w="\uFEFF"+h+`
`+b,P=new Blob([w],{type:"text/csv;charset=utf-8;"}),Q=URL.createObjectURL(P),C=document.createElement("a");C.setAttribute("href",Q),C.setAttribute("download",`Export_${new Date().getTime()}.csv`),document.body.appendChild(C),C.click(),document.body.removeChild(C)},K={left:"text-left",center:"text-center",right:"text-right"};return(0,e.jsxs)("div",{className:`flex flex-col gap-4 ${j?"dark":""}`,style:{"--highlight":g},children:[(0,e.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,e.jsxs)("div",{className:"flex flex-1 gap-4 w-full sm:w-auto",children:[d&&(0,e.jsx)("div",{className:"w-full sm:max-w-xs",children:(0,e.jsx)(D,{icon:r.Search,color:g,value:R,onChange:t=>E(t.target.value),placeholder:n,onClear:()=>E(""),darkMode:j})}),i&&f.size>0&&(0,e.jsxs)("div",{className:"flex items-center gap-3 animate-in fade-in slide-in-from-left-4",children:[(0,e.jsxs)("span",{className:"text-sm font-bold text-slate-500 hidden md:inline",children:[f.size," seleccionados"]}),(0,e.jsxs)("button",{onClick:()=>{H(Array.from(f)),A(new Set)},className:"text-xs font-bold text-red-500 hover:text-red-600 bg-red-50 dark:bg-red-500/10 px-4 py-2.5 rounded-xl transition-all active:scale-95 flex items-center gap-2 border border-red-100 dark:border-red-500/20",children:[(0,e.jsx)(r.Trash2,{className:"w-4 h-4"}),(0,e.jsx)("span",{children:"Eliminar"})]})]})]}),(0,e.jsxs)("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:[U&&(0,e.jsxs)("button",{onClick:J,className:"flex items-center justify-center gap-2 px-6 py-2.5 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl font-bold text-sm shadow-lg transition-all active:scale-95 whitespace-nowrap w-full sm:w-auto shadow-emerald-600/20",children:[(0,e.jsx)(r.Download,{className:"w-4 h-4"}),(0,e.jsx)("span",{children:"Exportar"})]}),S&&(0,e.jsxs)("button",{onClick:F,style:{backgroundColor:"var(--highlight)"},className:"flex items-center justify-center gap-2 px-6 py-2.5 hover:opacity-90 text-white rounded-xl font-bold text-sm shadow-lg transition-all active:scale-95 whitespace-nowrap w-full sm:w-auto shadow-[var(--highlight)]/20",children:[(0,e.jsx)(r.Plus,{className:"w-4 h-4"}),(0,e.jsx)("span",{children:x})]})]})]}),(0,e.jsx)("div",{className:"w-full rounded-2xl border border-slate-200 bg-white shadow-sm dark:border-slate-800 dark:bg-slate-900 overflow-hidden",children:(0,e.jsx)("div",{className:"overflow-x-auto",children:(0,e.jsxs)("table",{className:"min-w-full border-separate border-spacing-0 text-sm",children:[(0,e.jsx)("thead",{className:"bg-slate-50/50 dark:bg-slate-950/40",children:(0,e.jsxs)("tr",{children:[i&&(0,e.jsx)("th",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-800 w-10 text-left",children:(0,e.jsx)("input",{type:"checkbox",onChange:q,checked:v.length>0&&f.size===v.length,style:{"--accent":g},className:"w-4 h-4 rounded border-slate-300 text-[var(--accent)] focus:ring-[var(--accent)] cursor-pointer"})}),s.filter(t=>!t.hidden).map(t=>(0,e.jsx)("th",{onClick:()=>_(t.accessor),className:`
                      px-6 py-4 font-bold uppercase tracking-tight text-slate-500 dark:text-slate-400
                      ${K[t.align||"left"]}
                      border-b border-slate-100 dark:border-slate-800 cursor-pointer select-none group/th
                    `,children:(0,e.jsxs)("div",{className:`flex items-center gap-2 ${t.align==="center"?"justify-center":t.align==="right"?"justify-end":""}`,children:[t.header,(0,e.jsx)("span",{className:`transition-colors ${p.key===t.accessor?"text-[var(--highlight)]":"text-slate-300 opacity-0 group-hover/th:opacity-100"}`,children:p.key===t.accessor?p.direction==="asc"?(0,e.jsx)(r.ArrowUp,{className:"w-3 h-3"}):(0,e.jsx)(r.ArrowDown,{className:"w-3 h-3"}):(0,e.jsx)(r.ArrowUpDown,{className:"w-3 h-3"})})]})},String(t.accessor)))]})}),(0,e.jsx)("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:v.length>0?v.map(t=>(0,e.jsx)(le,{row:t,columns:s,color:g,selectable:i,isSelected:f.has(t.id),onSelect:G},t.id)):(0,e.jsx)("tr",{children:(0,e.jsx)("td",{colSpan:s.length+(i?1:0),children:L?(0,e.jsx)(L,{}):(0,e.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-slate-400 gap-3",children:[(0,e.jsx)(r.Inbox,{className:"w-12 h-12 opacity-20"}),(0,e.jsx)("p",{className:"font-medium italic",children:"No se encontraron registros para mostrar"})]})})})})]})})}),o&&N.length>0&&(0,e.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 px-2 py-2 text-sm text-slate-500 dark:text-slate-400 font-medium",children:[(0,e.jsx)("div",{className:"flex items-center gap-4",children:(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)("span",{children:"Mostrar"}),(0,e.jsxs)("div",{className:"relative",children:[(0,e.jsx)("select",{value:T,onChange:t=>{V(Number(t.target.value)),$(1)},className:"appearance-none bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-lg px-3 py-1.5 pr-8 focus:outline-none focus:ring-2 focus:ring-[var(--highlight)]/20 cursor-pointer text-slate-700 dark:text-slate-300 font-bold",children:l.map(t=>(0,e.jsx)("option",{value:t,children:t},t))}),(0,e.jsx)(r.ChevronDown,{className:"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none opacity-50"})]})]})}),(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)("button",{onClick:()=>$(t=>Math.max(t-1,1)),disabled:y===1,className:"p-2 rounded-lg border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 disabled:opacity-30 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:(0,e.jsx)(r.ChevronLeft,{className:"w-4 h-4"})}),(0,e.jsxs)("div",{className:"flex items-center gap-1 min-w-[60px] justify-center",children:[(0,e.jsx)("span",{className:"font-bold text-[var(--highlight)]",children:y}),(0,e.jsx)("span",{className:"opacity-30",children:"/"}),(0,e.jsx)("span",{children:I})]}),(0,e.jsx)("button",{onClick:()=>$(t=>Math.min(t+1,I)),disabled:y===I,className:"p-2 rounded-lg border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 disabled:opacity-30 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:(0,e.jsx)(r.ChevronRight,{className:"w-4 h-4"})})]})]})]})};0&&(module.exports={Input,Table});
//# sourceMappingURL=index.js.map