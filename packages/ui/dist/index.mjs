import he,{forwardRef,useState,createContext,useRef,useContext,useMemo}from'react';import {createPortal}from'react-dom';import {X,Check,Loader2,MoreHorizontal,Search,Trash2,Download,Plus,ArrowUp,ArrowDown,ArrowUpDown,Inbox,ChevronDown,ChevronLeft,ChevronRight,Menu}from'lucide-react';import {jsxs,jsx,Fragment}from'react/jsx-runtime';var O=forwardRef(({icon:a,color:o="#6366f1",label:s,error:r,variant:i="standard",type:m="text",value:n="",onChange:l,onClear:d,placeholder:u,disabled:f,className:N="",kd:I={},...z},C)=>{let[h,x]=useState(false),R=v=>{l&&l(v.target.value);},p=h||n&&n.toString().length>0,k=()=>{let v="block w-full text-sm transition-all outline-none dark:text-white";switch(i){case "filled":return `${v} pt-6 pb-3 px-4 bg-slate-100 dark:bg-slate-800 border-b-2 border-transparent rounded-t-xl focus:bg-slate-50 dark:focus:bg-slate-900 focus:border-[var(--highlight)] ${r?"border-red-400 bg-red-50 dark:bg-red-950/20":""}`;case "underlined":return `${v} pt-6 pb-3 bg-transparent border-b-2 border-slate-200 dark:border-slate-800 rounded-none px-0 focus:border-[var(--highlight)] focus:ring-0 ${r?"border-red-400":""}`;default:return `${v} py-3.5 px-4 bg-white dark:bg-slate-900 border rounded-xl 
          ${r?"border-red-400 focus:border-red-500 ring-0 focus:ring-2 focus:ring-red-500/10":"border-slate-200 dark:border-slate-800 focus:border-[var(--highlight)] ring-0 focus:ring-2 focus:ring-[var(--highlight)]/20"}`}};return jsxs("div",{className:`flex flex-col gap-1 w-full ${N}`,style:{"--highlight":o},children:[jsxs("div",{className:"relative flex items-center group",children:[s&&jsx("label",{className:`
              absolute pointer-events-none transition-all duration-200 ease-in-out z-20
              ${p?`text-[10px] font-bold uppercase tracking-wider ${r?"text-red-500":"text-[var(--highlight)]"}`:"text-sm font-medium text-slate-400"}
              
              /* Alineaci\xF3n Horizontal: Uniforme en standard y filled */
              ${i==="underlined"?"left-0":"left-4"}

              /* Posicionamiento Vertical */
              ${i==="standard"?p?"-top-2 px-1.5 bg-white dark:bg-slate-900 translate-x-[-4px]":"top-1/2 -translate-y-1/2":p?"top-1.5":"top-[31px] -translate-y-1/2"}

              /* Ajuste por Icono cuando NO flota */
              ${!p&&a?"pl-7":""}
            `,children:s}),a&&jsx("div",{className:`absolute flex items-center pointer-events-none transition-colors duration-200 z-10
            ${i==="underlined"?"left-0":"left-4"}
            ${i==="standard"?"top-1/2 -translate-y-1/2":"top-[31px] -translate-y-1/2"}
            ${r?"text-red-400":h?"text-[var(--highlight)]":"text-slate-400"}`,children:jsx(a,{className:"w-4 h-4"})}),jsx("input",{ref:C,type:m,value:n,onFocus:()=>x(true),onBlur:()=>x(false),onChange:R,disabled:f,placeholder:h&&p?u:"",style:{...I},className:`
            ${k()}
            ${f?"opacity-50 cursor-not-allowed":""}
            /* Padding Left: alineado con el icono */
            ${a?i==="underlined"?"pl-7":"pl-11":i==="underlined"?"pl-0":"pl-4"}
            ${d?"pr-10":"pr-4"}
            relative z-0
          `,...z}),n&&d&&!f&&jsx("button",{type:"button",onClick:d,className:`absolute right-0 flex items-center text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors z-20
              ${i==="underlined"?"pr-0 top-[31px] -translate-y-1/2":"pr-3 top-1/2 -translate-y-1/2"}`,children:jsx(X,{className:"w-4 h-4"})})]}),r&&jsx("span",{className:"text-[10px] font-bold text-red-500 ml-1 uppercase tracking-tight animate-in slide-in-from-top-1 duration-200",children:r})]})});O.displayName="Input";var L=forwardRef(({color:a="#6366f1",label:o,value:s=false,onChange:r,kd:i={},className:m="",disabled:n=false,...l},d)=>{let u=N=>{r&&r(N.target.checked);},f={"--tw-ring-color":a,borderColor:s?a:"#94a3b8",backgroundColor:s?a:"transparent",...i};return jsxs("label",{className:`inline-flex items-center gap-3 cursor-pointer select-none ${n?"opacity-50 cursor-not-allowed":""} ${m}`,children:[jsxs("div",{className:"relative flex items-center justify-center",children:[jsx("input",{ref:d,type:"checkbox",checked:s,onChange:u,disabled:n,className:"peer sr-only",...l}),jsx("div",{style:f,className:"w-5 h-5 border-2 rounded-md transition-all duration-200 ease-in-out peer-focus:ring-2 peer-focus:ring-offset-2 peer-focus:ring-offset-white dark:peer-focus:ring-offset-slate-900 flex items-center justify-center",children:s&&jsx(Check,{size:14,className:"text-white animate-in zoom-in-50 duration-200",strokeWidth:4})})]}),o&&jsx("span",{className:"text-sm font-medium leading-none",children:o})]})});L.displayName="CheckBox";var j=forwardRef(({label:a="Bot\xF3n",color:o="#6366f1",variant:s="filled",icon:r,iconPosition:i="left",textAlign:m="center",type:n="button",onClick:l,className:d="",disabled:u=false,loading:f=false,kd:N={},...I},z)=>{let[C,h]=useState(false),x={left:"justify-start",center:"justify-center",right:"justify-end"};return jsx("button",{ref:z,type:n,disabled:u||f,onMouseEnter:()=>h(true),onMouseLeave:()=>h(false),onClick:l,style:{...(()=>{let p=C&&!u&&!f,k={opacity:u||f?.6:1,cursor:u||f?"not-allowed":"pointer",transition:"all 300ms cubic-bezier(0.4, 0, 0.2, 1)"};switch(s){case "filled":return {...k,backgroundColor:o,color:"#ffffff",border:"1px solid transparent",filter:p?"brightness(0.9)":"none",boxShadow:p?"0 4px 12px rgba(0,0,0,0.15)":"none"};case "dotted":return {...k,backgroundColor:p?`${o}15`:"transparent",color:o,border:`2px dotted ${o}`,transform:p?"translateY(-1px)":"none"};case "ghost-hover":return {...k,backgroundColor:p?o:"transparent",color:p?"#ffffff":"currentColor",borderColor:p?"transparent":"currentColor",borderWidth:"1px",borderStyle:"solid"};default:return k}})(),...N},className:`
        group relative px-6 py-3 rounded-lg font-medium 
        active:scale-[0.98] flex items-center min-w-[140px] overflow-hidden
        ${x[m]}
        ${d}
      `,...I,children:jsxs("div",{className:`flex items-center gap-2 ${i==="right"?"flex-row-reverse":"flex-row"}`,children:[f?jsx(Loader2,{className:"animate-spin",size:18}):r&&jsx("span",{className:`flex items-center transition-transform duration-300 ${C&&!u?"scale-110":""}`,children:r}),jsx("span",{className:"leading-none",children:f?"Cargando...":a})]})})});j.displayName="Button";var _=createContext({darkMode:false,color:"#2563eb"}),q=()=>useContext(_),Me=he.memo(({row:a,columns:o,selectable:s,isSelected:r,onSelect:i})=>{let{color:m}=q(),n={left:"text-left",center:"text-center",right:"text-right"};return jsxs("tr",{className:"group transition-colors duration-150 hover:bg-[var(--highlight)]/5",children:[s&&jsx("td",{className:"px-6 py-4 border-b border-transparent",children:jsx(L,{color:m,value:r,onChange:()=>i(a.id)})}),o.filter(l=>!l.hidden).map(l=>jsx("td",{className:`
            whitespace-nowrap px-6 py-4 
            text-slate-600 dark:text-slate-300
            transition-colors group-hover:text-slate-900 dark:group-hover:text-white
            ${n[l.align||"left"]}
          `,children:l.actions?jsx(Le,{actions:l.actions,row:a}):l.format?l.format(a[l.accessor],a,m):String(a[l.accessor]??"")},String(l.accessor)))]})}),Ee=({isOpen:a,onClose:o,anchorRect:s,actions:r,row:i})=>{let{darkMode:m,color:n}=q();if(!a||!s)return null;let l={position:"fixed",top:`${s.bottom+8}px`,left:`${s.right-192}px`,zIndex:9999};return createPortal(jsxs("div",{className:m?"dark":"",style:{"--highlight":n},children:[jsx("div",{className:"fixed inset-0 z-[9998]",onClick:o}),jsx("div",{style:l,className:"w-48 overflow-hidden rounded-xl border border-slate-200 bg-white shadow-2xl ring-1 ring-black ring-opacity-5 dark:border-slate-700 dark:bg-slate-800 animate-in fade-in zoom-in duration-150",children:jsx("div",{className:"py-1",children:r.map((d,u)=>{let f=d.icon;return jsxs("button",{onClick:()=>{d.onClick(i),o();},className:`flex w-full items-center gap-3 px-4 py-2.5 text-sm transition-colors hover:bg-slate-50 dark:hover:bg-slate-700/50 ${d.color||"text-slate-700 dark:text-slate-200"}`,children:[f&&jsx(f,{className:"w-4 h-4 opacity-70"}),jsx("span",{className:"font-medium",children:d.label})]},u)})})})]}),document.body)},Le=({actions:a,row:o})=>{let[s,r]=useState(false),[i,m]=useState(null),n=useRef(null);return jsxs(Fragment,{children:[jsx("button",{ref:n,onClick:d=>{d.stopPropagation(),n.current&&m(n.current.getBoundingClientRect()),r(!s);},className:`p-2 rounded-full transition-all duration-200 ${s?"bg-[var(--highlight)]/10 text-[var(--highlight)]":"hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-400"}`,children:jsx(MoreHorizontal,{className:"w-5 h-5"})}),jsx(Ee,{isOpen:s,onClose:()=>r(false),anchorRect:i,actions:a,row:o})]})},lt=({data:a=[],columns:o=[],pagination:s=true,selectable:r=false,customArrayPagination:i=[5,10,25,50,100],defaultPageSize:m=10,filter:n=false,filterPlaceholder:l="Buscar registros...",color:d="#2563eb",add:u=false,textAdd:f="Agregar",actionAdd:N=()=>{},excelExport:I=false,onDeleteRows:z=()=>{},emptyState:C,darkMode:h=false})=>{let[x,R]=useState(1),[p,k]=useState(m),[v,W]=useState(""),[b,Q]=useState({key:null,direction:"asc"}),[S,H]=useState(new Set),Z=useMemo(()=>({darkMode:h,color:d}),[h,d]),ee=t=>{let g="asc";b.key===t&&b.direction==="asc"&&(g="desc"),Q({key:t,direction:g});},M=useMemo(()=>{let t=[...a];if(n&&v){let g=o.filter(y=>y.filter).map(y=>y.accessor);t=t.filter(y=>g.some(B=>String(y[B]??"").toLowerCase().includes(v.toLowerCase())));}return b.key&&t.sort((g,y)=>{let B=g[b.key],D=y[b.key];return B<D?b.direction==="asc"?-1:1:B>D?b.direction==="asc"?1:-1:0}),t},[a,v,n,o,b]),U=Math.ceil(M.length/p)||1,T=s?M.slice((x-1)*p,x*p):M,te=()=>{T.length>0&&S.size===T.length?H(new Set):H(new Set(T.map(t=>t.id)));},re=t=>{let g=new Set(S);g.has(t)?g.delete(t):g.add(t),H(g);},ae=()=>{let t=o.filter(A=>!A.hidden&&!A.actions),g=t.map(A=>`"${A.header}"`).join(","),y=M.map(A=>t.map(ne=>{let le=A[ne.accessor];return `"${String(le??"").replace(/"/g,'""')}"`}).join(",")).join(`
`),B="\uFEFF"+g+`
`+y,D=new Blob([B],{type:"text/csv;charset=utf-8;"}),se=URL.createObjectURL(D),E=document.createElement("a");E.setAttribute("href",se),E.setAttribute("download",`Export_${new Date().getTime()}.csv`),document.body.appendChild(E),E.click(),document.body.removeChild(E);},oe={left:"text-left",center:"text-center",right:"text-right"};return jsx(_.Provider,{value:Z,children:jsxs("div",{className:`flex flex-col gap-4 w-full ${h?"dark":""}`,style:{"--highlight":d},children:[jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[jsxs("div",{className:"flex flex-1 gap-4 w-full sm:w-auto",children:[n&&jsx("div",{className:"w-full sm:max-w-xs",children:jsx(O,{icon:Search,color:d,value:v,onChange:W,label:l,onClear:()=>W("")})}),r&&S.size>0&&jsxs("div",{className:"flex items-center gap-3 animate-in fade-in slide-in-from-left-4",children:[jsxs("span",{className:"text-sm font-bold text-slate-500 hidden md:inline",children:[S.size," seleccionados"]}),jsxs("button",{onClick:()=>{z(Array.from(S)),H(new Set);},className:"text-xs font-bold text-red-500 hover:text-red-600 bg-red-50 dark:bg-red-500/10 px-4 py-2.5 rounded-xl transition-all active:scale-95 flex items-center gap-2 border border-red-100 dark:border-red-500/20",children:[jsx(Trash2,{className:"w-4 h-4"}),jsx("span",{children:"Eliminar"})]})]})]}),jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:[I&&jsx(j,{onClick:ae,color:"green",icon:jsx(Download,{className:"w-4 h-4"}),label:"Exportar"}),u&&jsx(Fragment,{children:jsx(j,{onClick:N,kd:{backgroundColor:"var(--highlight)"},icon:jsx(Plus,{className:"w-4 h-4"}),label:f})})]})]}),jsx("div",{className:"w-full rounded-2xl border border-slate-200 bg-white shadow-sm dark:border-slate-800 dark:bg-slate-900 overflow-hidden",children:jsx("div",{className:"overflow-x-auto",children:jsxs("table",{className:"min-w-full border-separate border-spacing-0 text-sm",children:[jsx("thead",{className:"bg-slate-50/50 dark:bg-slate-950/40",children:jsxs("tr",{children:[r&&jsx("th",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-800 w-10 text-left",children:jsx(L,{color:d,value:T.length>0&&S.size===T.length,onChange:te})}),o.filter(t=>!t.hidden).map(t=>jsx("th",{onClick:()=>ee(t.accessor),className:`
                        px-6 py-4 font-bold uppercase tracking-tight text-slate-500 dark:text-slate-400
                        ${oe[t.align||"left"]}
                        border-b border-slate-100 dark:border-slate-800 cursor-pointer select-none group/th
                      `,children:jsxs("div",{className:`flex items-center gap-2 ${t.align==="center"?"justify-center":t.align==="right"?"justify-end":""}`,children:[t.header,jsx("span",{className:`transition-colors ${b.key===t.accessor?"text-[var(--highlight)]":"text-slate-300 opacity-0 group-hover/th:opacity-100"}`,children:b.key===t.accessor?b.direction==="asc"?jsx(ArrowUp,{className:"w-3 h-3"}):jsx(ArrowDown,{className:"w-3 h-3"}):jsx(ArrowUpDown,{className:"w-3 h-3"})})]})},String(t.accessor)))]})}),jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:T.length>0?T.map(t=>jsx(Me,{row:t,columns:o,selectable:r,isSelected:S.has(t.id),onSelect:re},t.id)):jsx("tr",{children:jsx("td",{colSpan:o.length+(r?1:0),children:C?jsx(C,{}):jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-slate-400 gap-3",children:[jsx(Inbox,{className:"w-12 h-12 opacity-20"}),jsx("p",{className:"font-medium italic",children:"No se encontraron registros para mostrar"})]})})})})]})})}),s&&M.length>0&&jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 px-2 py-2 text-sm text-slate-500 dark:text-slate-400 font-medium",children:[jsx("div",{className:"flex items-center gap-4",children:jsxs("div",{className:"flex items-center gap-2",children:[jsx("span",{children:"Mostrar"}),jsxs("div",{className:"relative",children:[jsx("select",{value:p,onChange:t=>{k(Number(t.target.value)),R(1);},className:"appearance-none bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-lg px-3 py-1.5 pr-8 focus:outline-none focus:ring-2 focus:ring-[var(--highlight)]/20 cursor-pointer text-slate-700 dark:text-slate-300 font-bold",children:i.map(t=>jsx("option",{value:t,children:t},t))}),jsx(ChevronDown,{className:"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none opacity-50"})]})]})}),jsxs("div",{className:"flex items-center gap-2",children:[jsx("button",{onClick:()=>R(t=>Math.max(t-1,1)),disabled:x===1,className:"p-2 rounded-lg border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 disabled:opacity-30 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:jsx(ChevronLeft,{className:"w-4 h-4"})}),jsxs("div",{className:"flex items-center gap-1 min-w-[60px] justify-center",children:[jsx("span",{className:"font-bold text-[var(--highlight)]",children:x}),jsx("span",{className:"opacity-30",children:"/"}),jsx("span",{children:U})]}),jsx("button",{onClick:()=>R(t=>Math.min(t+1,U)),disabled:x===U,className:"p-2 rounded-lg border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 disabled:opacity-30 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:jsx(ChevronRight,{className:"w-4 h-4"})})]})]})]})})};var ht=({title:a="Kydra Nav",position:o="static",color:s="#6366f1",colorDominant:r=false,isMenuOpen:i=false,onToggleMenu:m,children:n,kd:l={}})=>{let d=()=>{switch(o){case "sticky":return "sticky top-0 z-50";case "fixed-bottom-floating":return "fixed bottom-6 left-6 right-6 z-50 rounded-2xl shadow-2xl max-w-5xl mx-auto";default:return "relative"}},u={backgroundColor:r?s:void 0,borderColor:r?"transparent":`${s}40`,color:r?"#ffffff":void 0,...l};return jsxs("nav",{style:u,className:`
        ${d()}
        px-6 py-4 border-b transition-all duration-300
        ${r?"border-none text-white":"bg-white/80 dark:bg-slate-900/80 backdrop-blur-md dark:border-slate-800 text-slate-900 dark:text-white"}
      `,children:[jsxs("div",{className:"flex items-center justify-between gap-4",children:[jsx("div",{className:"flex items-center gap-2 font-black text-lg tracking-tight",children:typeof a=="string"?jsx("span",{style:{color:r?"white":s},children:a}):a}),jsx("div",{className:"hidden md:flex items-center gap-6",children:n}),jsx("button",{onClick:m,className:`md:hidden p-2 rounded-lg transition-colors ${r?"hover:bg-white/10":"hover:bg-black/5 dark:hover:bg-white/5"}`,children:i?jsx(X,{size:24}):jsx(Menu,{size:24})})]}),i&&jsx("div",{className:`md:hidden mt-4 pb-4 animate-in slide-in-from-top-2 duration-200 border-t pt-4 ${r?"border-white/20":"border-black/5 dark:border-white/5"}`,children:jsx("div",{className:"flex flex-col gap-4",children:n})})]})};export{j as Button,L as CheckBox,O as Input,ht as Navbar,lt as Table};//# sourceMappingURL=index.mjs.map
//# sourceMappingURL=index.mjs.map